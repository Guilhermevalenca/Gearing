{"version":3,"file":"js/427.06739e28.js","mappings":"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","sources":["webpack://gearing/./src/views/UserDataPage.vue","webpack://gearing/./src/components/userDataPage/DataChangeForm.vue","webpack://gearing/./src/components/userDataPage/AlertPassword.vue","webpack://gearing/./src/components/userDataPage/AlertPassword.vue?e55c","webpack://gearing/./src/components/userDataPage/DataChangeForm.vue?6188","webpack://gearing/./src/views/UserDataPage.vue?2818"],"sourcesContent":["<template>\n<h1>Seus dados:</h1>\n<div>\n    <DataChangeForm />\n</div>\n</template>\n\n<script>\nimport DataChangeForm from '@/components/userDataPage/DataChangeForm.vue'\n\nexport default{\n    data() {\n        return{\n\n        }\n    },\n    components: {\n        DataChangeForm\n    },\n    beforeCreate() {\n        if(!this.$store.state.user.auth){\n            this.$router.push('/')\n        }\n    }\n}\n</script>","<template>\n<section v-if=\"checkingPassword\">\n    <label v-if=\"showAlert\">\n        <AlertPassword @close=\"closeAlert()\" />\n    </label>\n    <form @submit.prevent=\"check()\">\n        <label>Digite sua senha para visualizar seus dados:</label>\n        <input type=\"password\" v-model=\"user.password\" placeholder=\"Digite sua senha\">\n        <button type=\"submit\">Enviar</button>\n    </form>\n</section>\n<section v-if=\"!checkingPassword\">\n    <form class=\"form\" @submit.prevent=\"updateData()\">\n        <label>\n            Email:\n        </label>\n        <input type=\"email\" v-model=\"newUserData.email\" placeholder=\"Digite seu email\">\n        <label>\n            Nome de usuário:\n        </label>\n        <input type=\"text\" v-model=\"newUserData.username\" placeholder=\"Digite seu novo nome de usuário\">\n        <label>\n            Nova senha:\n        </label>\n        <input :class=\"{'form-password' : differentPasswords}\" type=\"password\" v-model=\"newUserData.password\" placeholder=\"Nova senha\" minlength=\"6\">\n        <label>\n            Confirme sua nova senha:\n        </label>\n        <input :class=\"{'form-password' : differentPasswords}\" type=\"password\" v-model=\"newUserData.confirmePassword\" placeholder=\"Confirme sua nova senha\"> \n        <button type=\"submit\">Alterar dados</button>\n    </form>\n    <button @click=\"deleteUser()\">Deletar conta</button>\n</section>\n</template>\n\n<script>\nimport axios from 'axios';\nimport AlertPassword from './AlertPassword.vue'\nimport Swal from 'sweetalert2';\n\n\nexport default{\n    components: {\n        AlertPassword\n    },\n    data() {\n        return{\n            user: {\n                password: ''\n            },\n            newUserData: {\n                email: '',\n                username: this.$store.state.user.username,\n                password: '',\n                confirmePassword: ''\n            },\n            checkingPassword: true,\n            showAlert: false,\n            differentPasswords: false,\n        }\n    },\n    methods: {\n        check() {\n            axios.post(`${this.$store.state.req.api}/user/userData.php`, {\n                email: this.$store.state.user.email,\n                password: this.user.password\n            })\n            .then(response => {\n                if(response.data.success){\n                    this.checkingPassword = false;\n                }else{\n                    this.showAlert = true;\n                    console.log(response.data.error);\n                }\n            })\n        },\n        closeAlert() {\n            this.showAlert = false;\n        },\n        updateData() {\n            if(this.newUserData.password == this.newUserData.confirmePassword){\n                Swal.fire({\n                    title: 'Dados prontos para serem alterados',\n                    text: 'Seus dados serão alterados, mas não se preocupe, a qualquer momento você poderá altera-los novamente!',\n                    showCancelButton: true,\n                    confirmButtonText: 'Tenho certeza',\n                    cancelButtonText: 'Não tenho certeza',\n                    customClass: {\n                                popup: 'swal-popup-custom',\n                                title: 'swal-title-custom',\n                                htmlContainer: 'swal-html-container-custom',\n                            }\n                })\n                .then(result => {\n                    if(result.isConfirmed){\n                        if(!this.newUserData.password){\n                            this.newUserData.password = this.user.password; \n                        }\n                        if(!this.newUserData.email){\n                            this.newUserData.email = this.$store.state.user.email;\n                        }\n                        axios.post(`${this.$store.state.req.api}/user/updateUserData.php`,{\n                            email: this.newUserData.email,\n                            name: this.newUserData.username,\n                            password: this.newUserData.password,\n                            id: localStorage.getItem('idSession')\n                        })\n                        .then(response => {\n                            if( (response.data).result == \"true\"){\n                                this.$router.push('/')\n                            }else{\n                                Swal.fire({\n                                    title:'Erro',\n                                    text:'Não foi possível alterar seus dados',\n                                    customClass: {\n                                                popup: 'swal-popup-custom',\n                                                title: 'swal-title-custom',\n                                                htmlContainer: 'swal-html-container-custom',\n                            }\n                                });\n                                axios.post(`${this.$store.state.req.api}/log/registerErro.php`,{\n                                    erro: (response.data).problem\n                                })\n                            }\n                            this.newUserData.password = ''\n                            this.newUserData.confirmePassword = ''\n                        })\n                    }\n                })\n                \n            }\n        },\n        deleteUser() {\n            Swal.fire({\n                title: 'Tem certeza?',\n                text: 'Essa ação apagará todos os seus dados permanentemente',\n                showCancelButton: true,\n                confirmButtonText: 'Tenho certeza',\n                cancelButtonText: 'Não tenho certeza',\n                customClass: {\n                                popup: 'swal-popup-custom',\n                                title: 'swal-title-custom',\n                                htmlContainer: 'swal-html-container-custom',\n                            }\n            })\n            .then(result => {\n                if(result.isConfirmed){\n                    axios.post(`${this.$store.state.req.api}/user/deleteUser.php`,{\n                        id: localStorage.getItem('idSession')\n                    })\n                    .then(response => {\n                        if( (response.data).result == \"deleted user\"){\n                            Swal.fire({\n                            title:'Usuário deletado',\n                            text:'Seu usuário foi deletado com sucesso',\n                            customClass: {\n                                popup: 'swal-popup-custom',\n                                title: 'swal-title-custom',\n                                htmlContainer: 'swal-html-container-custom',\n                            }\n                        });\n                            this.$router.push('/')\n                            localStorage.removeItem('idSession')\n                        }else if( (response.data).result == \"user not deleted\"){\n                            Swal.fire({\n                                title:'Usuário não deletado',\n                                text:'Por alguma razão inesperada não foi possível deletar seu usuário',\n                                customClass: {\n                                popup: 'swal-popup-custom',\n                                title: 'swal-title-custom',\n                                htmlContainer: 'swal-html-container-custom',\n                            }\n                            });\n                            axios.post(`${this.$store.state.req.api}/log/registerErro.php`,{\n                                erro: (response.data).problem\n                            })\n                        }\n                    })\n                }\n            })\n        }\n    },\n    watch: {\n        newUserData: {\n            handler() {\n                if(this.newUserData.confirmePassword && (this.newUserData.password != this.newUserData.confirmePassword)){\n                    this.differentPasswords = true\n                }else{\n                    this.differentPasswords = false\n                }\n            },\n            deep: true\n        }\n    },\n    mounted() {\n        Swal.fire({\n            title: 'Aviso:',\n            text: 'Dados que não forem alterados permaneceram com o mesmo valor',\n            customClass: {\n                popup: 'swal-popup-custom',\n                title: 'swal-title-custom',\n                htmlContainer: 'swal-html-container-custom',\n            }\n        })\n    }\n}\n</script>\n\n<style scoped>\ndiv{\n    padding: 2em;\n}\nlabel{\n    padding: 0em;\n}\n.form-password{\n    color: red;\n}\nform{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-flow: column wrap;\n    gap: 0em;\n}\ninput{\n    padding-top: 0.25em;\n    text-align: center;\n    border-style: solid;\n    border-radius: 0.5em;\n    border-color: #000;\n    height: 1.5em;\n    width: 15em;\n}\ninput::-webkit-input-placeholder{\n    text-align: center;\n}\ninput::-moz-placeholder{\n    text-align: center;\n}\n</style>","<template>\n<div>\n    Senha incorreta tente novamente\n    <button @click=\"closeAlert()\"> X </button>\n</div>\n</template>\n<script>\nexport default{\n    methods: {\n            closeAlert() {\n                this.$emit('close');\n            }\n        }\n}\n</script>\n<style scoped>\ndiv{\n    padding: 5px;\n    border-radius: 6px;\n    color: white;\n    background-color: red;\n    display: flex;\n    justify-content: space-between;\n    width: 20em;\n}\n</style>","import { render } from \"./AlertPassword.vue?vue&type=template&id=65a3cd71&scoped=true\"\nimport script from \"./AlertPassword.vue?vue&type=script&lang=js\"\nexport * from \"./AlertPassword.vue?vue&type=script&lang=js\"\n\nimport \"./AlertPassword.vue?vue&type=style&index=0&id=65a3cd71&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-65a3cd71\"]])\n\nexport default __exports__","import { render } from \"./DataChangeForm.vue?vue&type=template&id=7ff749c8&scoped=true\"\nimport script from \"./DataChangeForm.vue?vue&type=script&lang=js\"\nexport * from \"./DataChangeForm.vue?vue&type=script&lang=js\"\n\nimport \"./DataChangeForm.vue?vue&type=style&index=0&id=7ff749c8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7ff749c8\"]])\n\nexport default __exports__","import { render } from \"./UserDataPage.vue?vue&type=template&id=7f47ebd5\"\nimport script from \"./UserDataPage.vue?vue&type=script&lang=js\"\nexport * from \"./UserDataPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","_hoisted_1","_createVNode","_component_DataChangeForm","type","$data","checkingPassword","_createElementBlock","showAlert","_hoisted_2","_component_AlertPassword","onClose","_cache","$event","$options","closeAlert","onSubmit","_withModifiers","check","_hoisted_3","user","password","placeholder","_hoisted_4","_hoisted_5","class","updateData","_hoisted_6","newUserData","email","_hoisted_7","username","_hoisted_8","_normalizeClass","differentPasswords","minlength","_hoisted_9","confirmePassword","_hoisted_10","onClick","deleteUser","methods","this","$emit","__exports__","components","AlertPassword","data","$store","state","axios","post","req","api","then","response","success","console","log","error","Swal","title","text","showCancelButton","confirmButtonText","cancelButtonText","customClass","popup","htmlContainer","result","isConfirmed","name","id","localStorage","getItem","$router","push","erro","problem","removeItem","watch","handler","deep","mounted","DataChangeForm","beforeCreate","auth","render"],"sourceRoot":""}