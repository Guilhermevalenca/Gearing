(function(){"use strict";var e={20:function(e,t,o){var s=o(9242),n=o(3396),r=o.p+"img/newLogo.77125d01.gif";const a=e=>((0,n.dD)("data-v-c1ad4ca2"),e=e(),(0,n.Cn)(),e),i=a((()=>(0,n._)("div",{class:"logo-container"},[(0,n._)("img",{src:r,class:"logo"}),(0,n._)("h1",{class:"gearing"},"Gearing")],-1))),l={class:"navbar"},c={class:"navigation-option"},u=a((()=>(0,n._)("div",{class:"animation start-home"},null,-1))),d=a((()=>(0,n._)("footer",null,[(0,n._)("h1",null,"© Rodapé ainda em produção")],-1)));function h(e,t,o,s,r,a){const h=(0,n.up)("router-link"),m=(0,n.up)("RouterLink"),p=(0,n.up)("AccessForm"),f=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[i,(0,n._)("header",l,[(0,n._)("nav",c,[(0,n.Wm)(h,{to:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)("Página Inicial")])),_:1}),(0,n.Wm)(m,{to:"/learningStyles"},{default:(0,n.w5)((()=>[(0,n.Uk)("Estilos de Aprendizagem")])),_:1}),(0,n.Wm)(m,{to:"/methodology"},{default:(0,n.w5)((()=>[(0,n.Uk)("Metodologias")])),_:1}),(0,n.Wm)(m,{to:"/schedule"},{default:(0,n.w5)((()=>[(0,n.Uk)("Cronograma")])),_:1}),(0,n.Wm)(m,{to:"/forum"},{default:(0,n.w5)((()=>[(0,n.Uk)("Fórum")])),_:1}),u])]),(0,n._)("main",null,[(0,n._)("article",null,[(0,n.Wm)(p)]),(0,n._)("section",null,[(0,n.Wm)(f)])]),d],64)}o(7658);var m=o(7139);const p=e=>((0,n.dD)("data-v-6ef04a86"),e=e(),(0,n.Cn)(),e),f={key:0},g={key:0},w={key:0},v=p((()=>(0,n._)("label",null,"E-mail:",-1))),b=p((()=>(0,n._)("label",null,"Senha:",-1))),_=p((()=>(0,n._)("button",{type:"submit",class:"login-button"},"Login",-1))),y={key:1},U=p((()=>(0,n._)("label",null,"Usuário:",-1))),k=p((()=>(0,n._)("label",null,"E-mail:",-1))),A=p((()=>(0,n._)("label",null,"Senha:",-1))),C=p((()=>(0,n._)("label",null,"Confirme sua senha:",-1))),S=p((()=>(0,n._)("button",{type:"submit",class:"sing-button"},"Criar conta",-1))),F={key:1,class:"showing-options"},$={key:1,class:"showing-options"},D={key:0};function P(e,t,o,r,a,i){const l=(0,n.up)("AlertForm");return(0,n.wg)(),(0,n.iD)(n.HY,null,[this.$store.state.user.auth?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",{key:0,class:(0,m.C_)(["default-form",{"showing-forms":a.actionsForms}])},[(0,n._)("div",null,[a.showAlert?((0,n.wg)(),(0,n.iD)("section",f,[(0,n.Wm)(l,{class:(0,m.C_)(["form-alert",{"form-alert-success":a.createSuccess},{"form-alert-failed":a.failedLogin}]),onClose:t[0]||(t[0]=e=>i.closeAlert())},{default:(0,n.w5)((()=>[(0,n.Uk)((0,m.zw)(a.messageAlert),1)])),_:1},8,["class"])])):(0,n.kq)("",!0)]),a.actionsForms?((0,n.wg)(),(0,n.iD)("div",g,[a.showForm?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("section",w,[(0,n._)("button",{class:"x",onClick:t[1]||(t[1]=(0,s.iM)((()=>{a.actionsForms=!1}),["prevent"]))},"X"),(0,n._)("form",{class:"form",onSubmit:t[4]||(t[4]=(0,s.iM)((e=>i.authUser(a.loginUser.email,a.loginUser.password)),["prevent"]))},[(0,n._)("div",null,[v,(0,n.wy)((0,n._)("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=e=>a.loginUser.email=e),maxlength:"45",placeholder:"Digite seu email"},null,512),[[s.nr,a.loginUser.email]])]),(0,n._)("div",null,[b,(0,n.wy)((0,n._)("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>a.loginUser.password=e),placeholder:"Digite sua senha"},null,512),[[s.nr,a.loginUser.password]])]),_],32)])),a.showForm?((0,n.wg)(),(0,n.iD)("section",y,[(0,n._)("button",{class:"x",onClick:t[5]||(t[5]=(0,s.iM)((()=>{a.actionsForms=!1}),["prevent"]))},"X"),(0,n._)("form",{class:"form",onSubmit:t[10]||(t[10]=(0,s.iM)((e=>i.newUser()),["prevent"]))},[(0,n._)("div",null,[U,(0,n.wy)((0,n._)("input",{class:"usuario-input",type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>a.createUser.username=e),maxlength:"20",placeholder:"Escolha seu nome de usuario"},null,512),[[s.nr,a.createUser.username]])]),(0,n._)("div",null,[k,(0,n.wy)((0,n._)("input",{class:(0,m.C_)({"form-email":a.emailRegistered}),type:"email","onUpdate:modelValue":t[7]||(t[7]=e=>a.createUser.email=e),placeholder:"Digite seu email"},null,2),[[s.nr,a.createUser.email]])]),(0,n._)("div",null,[A,(0,n.wy)((0,n._)("input",{class:(0,m.C_)({"form-password":a.differentPasswords}),type:"password",minlength:"6","onUpdate:modelValue":t[8]||(t[8]=e=>a.createUser.password=e),placeholder:"Digite sua senha"},null,2),[[s.nr,a.createUser.password]])]),(0,n._)("div",null,[C,(0,n.wy)((0,n._)("input",{class:(0,m.C_)({"form-password":a.differentPasswords}),type:"password",minlength:"6","onUpdate:modelValue":t[9]||(t[9]=e=>a.createUser.confirmPassword=e),placeholder:"Digite sua senha novamente"},null,2),[[s.nr,a.createUser.confirmPassword]])]),S],32)])):(0,n.kq)("",!0)])):(0,n.kq)("",!0),this.$store.state.user.auth?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("section",F,[(0,n._)("div",{class:(0,m.C_)({"showing-forms-button":a.actionsForms})},[(0,n._)("button",{class:"button-form-open",onClick:t[11]||(t[11]=()=>{a.showForm=!a.showForm,a.actionsForms=!0})},(0,m.zw)(a.showForm?"Realizar login":"Criar uma nova conta"),1)],2),(0,n._)("div",null,[(0,n._)("button",{class:"button-form-open",onClick:t[12]||(t[12]=()=>{a.actionsForms=!a.actionsForms,a.showForm=!0})},(0,m.zw)(a.actionsForms?"Fechar Janela":"Criar uma nova conta"),1)])]))],2)),this.$store.state.user.auth?((0,n.wg)(),(0,n.iD)("div",$,[(0,n._)("ul",null,"Bem vindo(a), "+(0,m.zw)(this.$store.state.user.username),1),a.adm?((0,n.wg)(),(0,n.iD)("ul",D,[(0,n._)("button",{onClick:t[13]||(t[13]=()=>{this.$router.push("/adm")})},"Aba administrativa")])):(0,n.kq)("",!0),(0,n._)("ul",null,[(0,n._)("button",{onClick:t[14]||(t[14]=()=>{this.$router.push("/userData")})},"Alterar dados"),(0,n._)("button",{onClick:t[15]||(t[15]=(...e)=>this.$logoutUser&&this.$logoutUser(...e))},"Sair da conta")])])):(0,n.kq)("",!0)],64)}var O=o(4161);const q={class:"alert"};function E(e,t,o,s,r,a){return(0,n.wg)(),(0,n.iD)("div",q,[(0,n.WI)(e.$slots,"default",{},void 0,!0),(0,n._)("button",{onClick:t[0]||(t[0]=e=>a.closeAlert())}," X ")])}var T={data(){return{}},methods:{closeAlert(){this.$emit("close")}}},I=o(89);const L=(0,I.Z)(T,[["render",E],["__scopeId","data-v-2e880240"]]);var j=L,x={data(){return{adm:!1,loginUser:{email:"",password:""},createUser:{username:"",email:"",password:"",confirmPassword:""},showForm:!0,showAlert:!1,actionsForms:!1,messageAlert:"",emailRegistered:!1,differentPasswords:!1,createSuccess:!1,failedLogin:!1}},methods:{authUser(e,t){O.Z.post(`${this.$store.state.req.api}/user/authUser.php`,{email:e,password:t}).then((e=>{e.data.success?(this.$store.dispatch("changeUser",e.data.user),localStorage.setItem("idSession",e.data.user.id),this.actionsForms=!1,this.checkAdm()):(this.showAlert=!0,this.messageAlert="Não foi possível efetivar seu login",this.failedLogin=!0,console.log("response:",e))})).catch((e=>{console.log("error:",e)}))},newUser(){this.createUser.password==this.createUser.confirmPassword&&O.Z.post(`${this.$store.state.req.api}/user/createUser.php`,{username:this.createUser.username,email:this.createUser.email,password:this.createUser.password}).then((e=>{e.data.success?(this.showForm=!1,this.authUser(this.createUser.email,this.createUser.password)):"23000"==e.data.error.code?(this.showAlert=!0,this.messageAlert="Essa conta já está cadastrada",this.emailRegistered=!0):(this.showAlert=!0,this.messageAlert="Ocorreu um erro não identificado",this.emailRegistered=!0),!e.data.success&&console.log(e.data.error.other)}))},closeAlert(){this.showAlert=!1},async checkAdm(){O.Z.post(`${this.$store.state.req.api}/authorizationActions/checkAdm.php`,{id:localStorage.getItem("idSession")}).then((e=>{e.data.success&&(this.adm=1===e.data.adm,"/adm"!=this.$route.path||this.adm||this.$router.push("/")),console.log(e.data.error)})).catch((e=>{console.log(e)}))}},components:{AlertForm:j},watch:{createUser:{handler(){this.createUser.confirmPassword&&this.createUser.password!=this.createUser.confirmPassword?(this.showAlert=!0,this.messageAlert="Senhas diferentes",this.differentPasswords=!0):(this.showAlert=!1,this.differentPasswords=!1),this.emailRegistered=!1},deep:!0},actionsForms:{handler(){this.actionsForms||(this.showForm=!0),0==this.actionsForms&&(this.showAlert=!1)},deep:!0}},beforeMount(){let e=localStorage.getItem("idSession");e&&this.checkAdm()}};const N=(0,I.Z)(x,[["render",P],["__scopeId","data-v-6ef04a86"]]);var z=N,M=o(2492),W=o.n(M),Z={name:"App",components:{AccessForm:z},data(){return{}},methods:{establishingConnection(){O.Z.get(this.$store.state.req.api).then((e=>{"OK"===e.data&&W().close()})).catch((()=>{W().fire({title:"Não foi possível conectar-se ao servidor",text:"Algumas das nossas funcionalidades estarão indisponiveis",showConfirmButton:!0,customClass:{popup:"swal-popup-custom",title:"swal-title-custom",htmlContainer:"swal-html-container-custom"}})}))}},beforeMount(){this.establishingConnection()},beforeCreate(){this.$checkAuthentication()}};const R=(0,I.Z)(Z,[["render",h],["__scopeId","data-v-c1ad4ca2"]]);var B=R,V=o(2483);const H=[{path:"/",name:"home",component:()=>o.e(443).then(o.bind(o,9272))},{path:"/schedule",name:"schedule",component:()=>o.e(147).then(o.bind(o,4147))},{path:"/userData",name:"userData",component:()=>o.e(427).then(o.bind(o,8427))},{path:"/methodology",name:"methodology",component:()=>o.e(460).then(o.bind(o,6460))},{path:"/learningStyles",name:"learningStyles",component:()=>o.e(856).then(o.bind(o,5856))},{path:"/forum",name:"forum",component:()=>o.e(420).then(o.bind(o,9420))},{path:"/adm",name:"adm",component:()=>o.e(887).then(o.bind(o,9887))}],X=(0,V.p7)({history:(0,V.PO)(),routes:H});var G=X,K=o(65),Y=(0,K.MT)({state:{user:{username:"",email:"",auth:!1},schedule:{editTitle:""},req:{api:"http://localhost:8000",webSocket:"http://localhost:3000"}},mutations:{changeUser(e,t){e.user.username=t.username,e.user.email=t.email,e.user.auth=t.auth},changeSchedule(e,t){e.schedule.editTitle=t}},getters:{},actions:{changeUser({commit:e},t){e("changeUser",t)},changeSchedule({commit:e},t){e("changeSchedule",t)}}}),J=o(3494),Q=o(8539),ee=o(7749);J.vI.add(Q.TzT,Q.$aW,Q.Lh7);const te=(0,s.ri)(B);te.component("FA",ee.GN),te.use(Y),te.use(G),te.config.globalProperties.$logoutUser=async()=>{let e=localStorage.getItem("idSession");W().showLoading(),O.Z.post(`${Y.state.req.api}/authorizationActions/revokingAuthorizedAccess.php`,{id:e}).then((e=>{e.data.success&&(localStorage.removeItem("idSession"),Y.dispatch("changeUser",{username:"",email:"",auth:""}))})).catch((e=>{console.log(e)})).finally((()=>{W().close()}))},te.config.globalProperties.$checkAuthentication=async()=>{let e=localStorage.getItem("idSession");e&&(W().showLoading(),O.Z.post(`${Y.state.req.api}/authorizationActions/checkingAccessAuthorization.php`,{id:e}).then((e=>{e.data.success?Y.dispatch("changeUser",e.data.user):"NOT AUTH"==e.data?localStorage.removeItem("idSession"):console.log(e.data.error)})).catch((e=>{console.log(e)})).finally((()=>{W().close()})))},te.mount("#app")}},t={};function o(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,o),r.exports}o.m=e,function(){var e=[];o.O=function(t,s,n,r){if(!s){var a=1/0;for(u=0;u<e.length;u++){s=e[u][0],n=e[u][1],r=e[u][2];for(var i=!0,l=0;l<s.length;l++)(!1&r||a>=r)&&Object.keys(o.O).every((function(e){return o.O[e](s[l])}))?s.splice(l--,1):(i=!1,r<a&&(a=r));if(i){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[s,n,r]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,s){return o.f[s](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/"+(443===e?"about":e)+"."+{147:"a06884d9",420:"eca75a9c",427:"06739e28",443:"a942e479",460:"3e5abf85",856:"db081ddb",887:"1697ff5f"}[e]+".js"}}(),function(){o.miniCssF=function(e){return"css/"+(443===e?"about":e)+"."+{147:"4c2a5666",420:"578638f9",427:"00d70272",443:"2e6a90be",460:"df253881",856:"5c082978",887:"50fc1d1d"}[e]+".css"}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="gearing:";o.l=function(s,n,r,a){if(e[s])e[s].push(n);else{var i,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==s||d.getAttribute("data-webpack")==t+r){i=d;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",t+r),i.src=s),e[s]=[n];var h=function(t,o){i.onerror=i.onload=null,clearTimeout(m);var n=e[s];if(delete e[s],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((function(e){return e(o)})),t)return t(o)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,o,s,n){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var a=function(o){if(r.onerror=r.onload=null,"load"===o.type)s();else{var a=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=i,r.parentNode&&r.parentNode.removeChild(r),n(l)}};return r.onerror=r.onload=a,r.href=t,o?o.parentNode.insertBefore(r,o.nextSibling):document.head.appendChild(r),r},t=function(e,t){for(var o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var n=o[s],r=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(r===e||r===t))return n}var a=document.getElementsByTagName("style");for(s=0;s<a.length;s++){n=a[s],r=n.getAttribute("data-href");if(r===e||r===t)return n}},s=function(s){return new Promise((function(n,r){var a=o.miniCssF(s),i=o.p+a;if(t(a,i))return n();e(s,i,null,n,r)}))},n={143:0};o.f.miniCss=function(e,t){var o={147:1,420:1,427:1,443:1,460:1,856:1,887:1};n[e]?t.push(n[e]):0!==n[e]&&o[e]&&t.push(n[e]=s(e).then((function(){n[e]=0}),(function(t){throw delete n[e],t})))}}}(),function(){var e={143:0};o.f.j=function(t,s){var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)s.push(n[2]);else{var r=new Promise((function(o,s){n=e[t]=[o,s]}));s.push(n[2]=r);var a=o.p+o.u(t),i=new Error,l=function(s){if(o.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var r=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",i.name="ChunkLoadError",i.type=r,i.request=a,n[1](i)}};o.l(a,l,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,r,a=s[0],i=s[1],l=s[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(n in i)o.o(i,n)&&(o.m[n]=i[n]);if(l)var u=l(o)}for(t&&t(s);c<a.length;c++)r=a[c],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(u)},s=self["webpackChunkgearing"]=self["webpackChunkgearing"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(20)}));s=o.O(s)})();
//# sourceMappingURL=app.344366cf.js.map