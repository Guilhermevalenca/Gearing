"use strict";(self["webpackChunkgearing"]=self["webpackChunkgearing"]||[]).push([[887],{9887:function(s,t,e){e.r(t),e.d(t,{default:function(){return y}});var l=e(3396),r=e(7139);const a=(0,l._)("div",null,[(0,l._)("h1",null,"Aba administrativar em produção")],-1),o={key:0},n=(0,l._)("h1",null,"Listand usuarios:",-1),u=(0,l._)("section",null,[(0,l._)("h1",null,"forms para adicionar um novo administrados")],-1),i=(0,l._)("section",null,[(0,l._)("h1",null,"forms para emitir um alert para todos os usuarios")],-1);function d(s,t,e,d,h,c){const m=(0,l.up)("ListUser");return(0,l.wg)(),(0,l.iD)(l.HY,null,[a,(0,l._)("div",null,[(0,l._)("button",{onClick:t[0]||(t[0]=()=>{h.showListUser=!h.showListUser})},(0,r.zw)(h.showListUser?"Ocultar todos os usuarios":"mostrar todos os usuarios"),1)]),(0,l._)("div",null,[h.showListUser?((0,l.wg)(),(0,l.iD)("section",o,[n,(0,l.Wm)(m)])):(0,l.kq)("",!0),u,i])],64)}e(7658);const h=s=>((0,l.dD)("data-v-175e9202"),s=s(),(0,l.Cn)(),s),c={class:"all-users"},m={class:"all-users-adms"},_=h((()=>(0,l._)("h2",{class:"all-users-titles"},"administradores",-1))),p=h((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Nome:"),(0,l._)("th",null,"Email:")])],-1))),w={class:"all-users-others"},g=h((()=>(0,l._)("h2",{class:"all-users-titles"},"Outros usuarios",-1))),v=h((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"Nome:"),(0,l._)("th",null,"Email:")])],-1)));function f(s,t,e,a,o,n){return(0,l.wg)(),(0,l.iD)("section",c,[(0,l._)("div",m,[_,(0,l._)("table",null,[p,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.allUsers.adms,((s,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:t},[(0,l._)("td",null,(0,r.zw)(s.user_name),1),(0,l._)("td",null,(0,r.zw)(s.user_email),1)])))),128))])])]),(0,l._)("div",w,[g,(0,l._)("table",null,[v,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.allUsers.others,((s,t)=>((0,l.wg)(),(0,l.iD)("tr",{key:t},[(0,l._)("td",null,(0,r.zw)(s.user_name),1),(0,l._)("td",null,(0,r.zw)(s.user_email),1)])))),128))])])])])}var U=e(4161),k=e(2492),b=e.n(k),C={data(){return{allUsers:{adms:[],others:[]}}},methods:{usersAdms(){U.Z.post(`${this.$store.state.req.api}/adm/ListAllUsers.php`,{id:localStorage.getItem("idSession")}).then((s=>{s.data.success?(this.allUsers.adms=s.data.users.adms,this.allUsers.others=s.data.users.others):b().fire({title:"Error",text:"Aconteceu um error inesperado ao tentar listar os usuarios",customClass:{popup:"swal-popup-custom",title:"swal-title-custom",htmlContainer:"swal-html-container-custom"},confirmButtonText:"tentar novamente",showCancelButton:!0}).then((s=>{s.isConfirmed&&this.usersAdms()}))}))}},mounted(){this.usersAdms()}},L=e(89);const A=(0,L.Z)(C,[["render",f],["__scopeId","data-v-175e9202"]]);var D=A,$={components:{ListUser:D},data(){return{showListUser:!1}},beforeCreate(){let s=localStorage.getItem("idSession");s?U.Z.post(`${this.$store.state.req.api}/authorizationActions/checkAdm.php`,{id:s}).then((s=>{s.data.success||(console.log(s.data.error),this.$router.push("/"))})).catch((s=>{console.log(s),this.$router.push("/")})):this.$router.push("/")}};const z=(0,L.Z)($,[["render",d]]);var y=z}}]);
//# sourceMappingURL=887.1697ff5f.js.map