{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport AlertForm from \"./AlertForm.vue\";\nexport default {\n  data() {\n    return {\n      loginUser: {\n        email: \"\",\n        password: \"\"\n      },\n      createUser: {\n        username: \"\",\n        email: \"\",\n        password: \"\",\n        confirmPassword: \"\"\n      },\n      showForm: true,\n      showAlert: false,\n      messageAlert: '',\n      emailRegistered: false\n    };\n  },\n  methods: {\n    authUser() {\n      axios.post(\"http://localhost:8000/user/authUser.php\", {\n        email: this.loginUser.email,\n        password: this.loginUser.password\n      }).then(response => {\n        if (response.data) {\n          this.$router.push('/menu');\n        }\n      });\n    },\n    newUser() {\n      if (this.createUser.password == this.createUser.confirmPassword) {\n        axios.post(\"http://localhost:8000/user/createUser.php\", {\n          username: this.createUser.username,\n          email: this.createUser.email,\n          password: this.createUser.password\n        }).then(response => {\n          if (response.data) {\n            this.showForm = true;\n            this.messageAlert = \"Sua conta foi criada com sucesso\";\n          } else {\n            this.showAlert = true;\n            this.messageAlert = \"Essa conta ja estar cadastrada\";\n            this.emailRegistered = true;\n          }\n        });\n      }\n    },\n    closeAlert() {\n      this.showAlert = false;\n    }\n  },\n  components: {\n    AlertForm\n  },\n  watch: {\n    createUser: {\n      handler() {\n        if (this.createUser.confirmPassword && this.createUser.password != this.createUser.confirmPassword) {\n          this.showAlert = true;\n          this.messageAlert = \"Senhas diferentes\";\n        } else {\n          this.showAlert = false;\n        }\n      },\n      deep: true\n    }\n  }\n};","map":{"version":3,"names":["axios","AlertForm","data","loginUser","email","password","createUser","username","confirmPassword","showForm","showAlert","messageAlert","emailRegistered","methods","authUser","post","then","response","$router","push","newUser","closeAlert","components","watch","handler","deep"],"sources":["/home/guilherme/Gearing/src/components/homePage/AccessForm.vue"],"sourcesContent":["<template>\n<div>\n    <form class=\"form\" v-if=\"showForm\" @submit.prevent=\"authUser()\">\n        <label v-if=\"showAlert\">\n            <AlertForm class=\"form-alert\" @close=\"closeAlert()\"> \n                {{ messageAlert }}\n            </AlertForm>\n        </label>\n        <label>\n            E-mail:\n            <input type=\"email\" v-model=\"loginUser.email\" placeholder=\"E-mail\">\n        </label>\n        <label>\n            Senha:\n            <input type=\"password\" v-model=\"loginUser.password\" placeholder=\"Senha\"> \n        </label>\n            <button>entrar</button>\n    </form>\n    <form class=\"form\" v-if=\"!showForm\" @submit.prevent=\"newUser()\">\n        <label>\n            Usuario:\n            <input type=\"text\" v-model=\"createUser.username\" placeholder=\"digite seu nome de usuario\">\n        </label>\n        <label>\n            E-mail:\n            <input :class=\"{'form-email' : emailRegistered}\" type=\"email\" v-model=\"createUser.email\" placeholder=\"digite seu email\">\n        </label>\n        <label>\n            Senha:\n            <input type=\"password\" v-model=\"createUser.password\" placeholder=\"digite sua senha\">\n        </label>\n        <label>\n            Confirme sua senha:\n            <input type=\"password\" v-model=\"createUser.confirmPassword\" placeholder=\"digite sua senha novamente\">\n        </label>\n        <label v-if=\"showAlert\">\n            <AlertForm @close=\"closeAlert()\"> \n                {{ messageAlert }}\n            </AlertForm>\n        </label>\n        <button>criar conta</button>\n    </form>\n    <button @click=\"() => {showForm = !showForm; showAlert = false }\">{{ showForm ? 'criar uma nova conta' : 'entra em uma conta existente' }}</button>\n</div>\n</template>\n\n<script>\n\nimport axios from \"axios\";\nimport AlertForm from \"./AlertForm.vue\";\n\nexport default{\n    data() {\n        return {\n            loginUser: {\n                email: \"\",\n                password: \"\"\n            },\n            createUser: {\n                username: \"\",\n                email: \"\",\n                password: \"\",\n                confirmPassword: \"\"\n            },\n            showForm: true,\n            showAlert: false,\n            messageAlert: '',\n            emailRegistered: false\n        };\n    },\n    methods: {\n        authUser() {\n            axios.post(\"http://localhost:8000/user/authUser.php\", {\n                email: this.loginUser.email,\n                password: this.loginUser.password\n            })\n                .then(response => {\n                if(response.data){\n                    this.$router.push('/menu')\n                }\n            });\n        },\n        newUser() {\n            if(this.createUser.password == this.createUser.confirmPassword){\n\n                axios\n                .post(\"http://localhost:8000/user/createUser.php\", {\n                    username: this.createUser.username,\n                    email: this.createUser.email,\n                    password: this.createUser.password\n                })\n                .then(response => {\n                    if(response.data){\n                        this.showForm = true;\n                        this.messageAlert = \"Sua conta foi criada com sucesso\"\n                    }else{\n                        this.showAlert = true;\n                        this.messageAlert = \"Essa conta ja estar cadastrada\"\n                        this.emailRegistered = true;\n\n                    }\n                })\n            }\n        },\n        closeAlert() {\n            this.showAlert = false;\n        }\n    },\n    components: { \n        AlertForm \n    },\n    watch: {\n        createUser: {\n            handler() {\n                if( this.createUser.confirmPassword && (this.createUser.password != this.createUser.confirmPassword) ){\n                    this.showAlert = true;\n                    this.messageAlert = \"Senhas diferentes\"\n                }else{\n                    this.showAlert = false;\n                }\n            },\n            deep: true\n        }\n    }\n}\n</script>\n\n<style scoped>\n    label{\n        display: grid;\n        justify-content: center;\n        text-align: center;\n    }\n    input{\n        width: 25em;\n    }\n    .form-alert{\n        background-color: green;\n    }\n    .form-email{\n        color: red;\n    }\n</style>"],"mappings":";AAgDA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,SAAQ,MAAO,iBAAiB;AAEvC,eAAc;EACVC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,SAAS,EAAE;QACPC,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE;MACd,CAAC;MACDC,UAAU,EAAE;QACRC,QAAQ,EAAE,EAAE;QACZH,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE,EAAE;QACZG,eAAe,EAAE;MACrB,CAAC;MACDC,QAAQ,EAAE,IAAI;MACdC,SAAS,EAAE,KAAK;MAChBC,YAAY,EAAE,EAAE;MAChBC,eAAe,EAAE;IACrB,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACLC,QAAQA,CAAA,EAAG;MACPd,KAAK,CAACe,IAAI,CAAC,yCAAyC,EAAE;QAClDX,KAAK,EAAE,IAAI,CAACD,SAAS,CAACC,KAAK;QAC3BC,QAAQ,EAAE,IAAI,CAACF,SAAS,CAACE;MAC7B,CAAC,EACIW,IAAI,CAACC,QAAO,IAAK;QAClB,IAAGA,QAAQ,CAACf,IAAI,EAAC;UACb,IAAI,CAACgB,OAAO,CAACC,IAAI,CAAC,OAAO;QAC7B;MACJ,CAAC,CAAC;IACN,CAAC;IACDC,OAAOA,CAAA,EAAG;MACN,IAAG,IAAI,CAACd,UAAU,CAACD,QAAO,IAAK,IAAI,CAACC,UAAU,CAACE,eAAe,EAAC;QAE3DR,KAAI,CACHe,IAAI,CAAC,2CAA2C,EAAE;UAC/CR,QAAQ,EAAE,IAAI,CAACD,UAAU,CAACC,QAAQ;UAClCH,KAAK,EAAE,IAAI,CAACE,UAAU,CAACF,KAAK;UAC5BC,QAAQ,EAAE,IAAI,CAACC,UAAU,CAACD;QAC9B,CAAC,EACAW,IAAI,CAACC,QAAO,IAAK;UACd,IAAGA,QAAQ,CAACf,IAAI,EAAC;YACb,IAAI,CAACO,QAAO,GAAI,IAAI;YACpB,IAAI,CAACE,YAAW,GAAI,kCAAiC;UACzD,CAAC,MAAI;YACD,IAAI,CAACD,SAAQ,GAAI,IAAI;YACrB,IAAI,CAACC,YAAW,GAAI,gCAA+B;YACnD,IAAI,CAACC,eAAc,GAAI,IAAI;UAE/B;QACJ,CAAC;MACL;IACJ,CAAC;IACDS,UAAUA,CAAA,EAAG;MACT,IAAI,CAACX,SAAQ,GAAI,KAAK;IAC1B;EACJ,CAAC;EACDY,UAAU,EAAE;IACRrB;EACJ,CAAC;EACDsB,KAAK,EAAE;IACHjB,UAAU,EAAE;MACRkB,OAAOA,CAAA,EAAG;QACN,IAAI,IAAI,CAAClB,UAAU,CAACE,eAAc,IAAM,IAAI,CAACF,UAAU,CAACD,QAAO,IAAK,IAAI,CAACC,UAAU,CAACE,eAAe,EAAG;UAClG,IAAI,CAACE,SAAQ,GAAI,IAAI;UACrB,IAAI,CAACC,YAAW,GAAI,mBAAkB;QAC1C,CAAC,MAAI;UACD,IAAI,CAACD,SAAQ,GAAI,KAAK;QAC1B;MACJ,CAAC;MACDe,IAAI,EAAE;IACV;EACJ;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}